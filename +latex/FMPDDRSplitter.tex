\documentclass[10pt]{article}
\usepackage[T1]{fontenc}
\usepackage[a4paper, total={18cm, 27cm}]{geometry}
\usepackage{listings}
\usepackage[scaled]{beramono}
\renewcommand{\familydefault}{\ttdefault}

\lstset{
  language=Python,
  showstringspaces=false,
  showlines=false,
  emptylines=1,
  formfeed=\newpage,
  tabsize=4,
  commentstyle=\textit, %%\itshape,
  numbers=left,
  stepnumber=5,
  numbersep=5pt,
  firstnumber=1,
  basicstyle=\ttfamily,
  morekeywords={models, lambda, forms},
  inputencoding={utf8},
  extendedchars=true,
  literate={ä}{{\"a}}1 {ö}{{\"o}}1 {ü}{{\"u}}1 {Ä}{{\"A}}1  {Ö}{{\"O}}1 {Ü}{{\"U}}1 {ß}{{\ss}}1 {~}{{\textasciitilde}}1
}

\newcommand{\code}[2]{
  %%\hrulefill
  \subsection*{#1}
  \lstset{name=#1}
  %%  title=#1}
  \lstinputlisting{#2}
  \vspace{2em}
}

\begin{document}

%%\code{Config.py}{../Config.py}
\code{ddrsplit.py}{../ddrsplit.py}
%%\code{FMPDDRSplitter.py}{../FMPDDRSplitter.py}
%%\code{ReferenceCollector.py}{../ReferenceCollector.py}
%%\code{setup.py}{../setup.py}

\end{document}
